<div *ngIf="!loadDependents">
  <div class="alert alert-warning">
    <strong>Action required:</strong> Please download and submit the following application form(s) to add your dependents.
    <p>&nbsp;</p>
    <ul>
      <li><a target="_blank" href="http://kspas.co.za/wp-content/uploads/2018/07/Kspas-CashBenefit.pdf" ><i class="fa fa-file-pdf-o" aria-hidden="true"></i> Download pdf | Cash Benefit Application Form</a> </li>
      <li><a target="_blank" href="http://kspas.co.za/wp-content/uploads/2018/08/groceriesBenefit.pdf" ><i class="fa fa-file-pdf-o" aria-hidden="true"></i> Download pdf | Grocery Benefit Application Form</a> </li>
        <!-- <a target="_blank" href="http://kspas.co.za/wp-content/uploads/2018/08/groceriesBenefit.pdf" class="btn btn-danger btn-block" *ngIf="totalDependents === 0"><i class="fa fa-file-pdf-o"></i> Download Application Form</a> -->
    </ul>
  </div>
</div>
<div class="panel panel-default panel-table" *ngIf="loadDependents">
  <div class="panel-heading">
    <div class="row">
      <div class="col col-xs-6">
        <h3 class="panel-title">List all dependents</h3>
      </div>
      <div class="col col-xs-6 text-right">
      </div>
    </div>
  </div>
  <div class="panel-body">
    <table class="table table-striped table-bordered table-list">
      <thead>
        <tr>
            <th><em class="fa fa-cog"></em></th>
            <th class="hidden-xs">Name</th>
            <th>Dependent Type</th>
            <th>Date of Birth</th>
        </tr>
      </thead>
      <tbody>
              <tr *ngFor="let dependent of dependents; let i = index">
                <td align="center">
                  <button type="button" class="btn btn-primary" (click)="openModal(template, dependent)">
                    <i class="glyphicon glyphicon-eye-open"></i>
                  </button>
                </td>
                <td class="hidden-xs">
                  {{dependent.ct_name_text_e394[0]}}
                  {{dependent.ct_Last_name_text_3960[0]}}
                </td>
                <td> {{ (dependent.ct_Dependent__text_c916[0] === '2') ? 'Child' : 'Spouse' }}</td>
                <td>{{dependent.ct_Date_of_bi_text_e345[0]}}</td>
              </tr>
            </tbody>
    </table>

  </div>
  <div class="panel-footer">
    <div class="row"></div>
  </div>
</div>

<!--  MODAL DIALOG -->
<ng-template #template>
  <div class="modal-header">
    <h4 class="modal-title pull-left">Modal</h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <ul class="list-group">
      <li class="list-group-item text-right">
        <span class="pull-left"><strong>First name: </strong></span> {{dependent.firstName}}
      </li>
      <li class="list-group-item text-right">
        <span class="pull-left"><strong>Last name: </strong></span> {{dependent.lastName}}
      </li>
      <li class="list-group-item text-right">
        <span class="pull-left"><strong>Id number: </strong></span> {{dependent.idNumber}}
      </li>
      <li class="list-group-item text-right">
        <span class="pull-left"><strong>Date of birth: </strong></span> {{dependent.dob}}
      </li>
      <li class="list-group-item text-right">
        <span class="pull-left"><strong>Dependent Type: </strong></span> {{ (dependent.dependentType === '2') ? 'Child' : 'Spouse'}}
      </li>
      <li class="list-group-item text-right">
        <span class="pull-left"><strong>Main member ID: </strong></span> {{dependent.mainMemeberId}} - {{user.data.display_name}}
      </li>
    </ul>
  </div>
</ng-template>

